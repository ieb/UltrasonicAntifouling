EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L ArdinoMinPro U1
U 1 1 6081B080
P 3150 2600
F 0 "U1" H 3450 2600 60  0000 C CNN
F 1 "ArdinoMinPro" H 3150 2600 60  0000 C CNN
F 2 "Divers:ArduinoProMini" H 3450 2600 60  0001 C CNN
F 3 "" H 3450 2600 60  0001 C CNN
	1    3150 2600
	1    0    0    -1  
$EndComp
$Comp
L MCP14E3 U2
U 1 1 6081B464
P 5850 2800
F 0 "U2" H 5900 3000 60  0000 C CNN
F 1 "MCP14E3" H 5900 3000 60  0000 C CNN
F 2 "Housings_DIP:DIP-8_W7.62mm_LongPads" H 5900 3000 60  0001 C CNN
F 3 "" H 5900 3000 60  0001 C CNN
	1    5850 2800
	1    0    0    -1  
$EndComp
$Comp
L IRF540N Q1
U 1 1 6081B4AA
P 8250 2250
F 0 "Q1" H 8250 2102 40  0000 R CNN
F 1 "IRF540N" H 8250 2399 40  0000 R CNN
F 2 "TO_SOT_Packages_THT:TO-220_Vertical" H 8071 2351 29  0000 C CNN
F 3 "" H 8250 2250 60  0000 C CNN
	1    8250 2250
	1    0    0    -1  
$EndComp
$Comp
L IRF540N Q2
U 1 1 6081B4D5
P 8250 3000
F 0 "Q2" H 8250 2852 40  0000 R CNN
F 1 "IRF540N" H 8250 3149 40  0000 R CNN
F 2 "TO_SOT_Packages_THT:TO-220_Vertical" H 8071 3101 29  0000 C CNN
F 3 "" H 8250 3000 60  0000 C CNN
	1    8250 3000
	1    0    0    -1  
$EndComp
Text GLabel 4900 2500 0    60   Input ~ 0
PWMB
Text GLabel 4900 2350 0    60   Input ~ 0
PWMA
Text GLabel 2250 3250 0    60   Output ~ 0
PWMB
Text GLabel 4200 3250 2    60   Output ~ 0
PWMA
Text GLabel 4900 3100 0    60   Input ~ 0
ENPWM
Text GLabel 2300 2550 0    60   Output ~ 0
ENPWM
$Comp
L CAPAPOL 1uF2
U 1 1 6081B5A9
P 6250 1650
F 0 "1uF2" H 6300 1750 40  0000 L CNN
F 1 "CAPAPOL" H 6300 1550 40  0000 L CNN
F 2 "Capacitors_SMD:C_1210_HandSoldering" H 6350 1500 30  0001 C CNN
F 3 "" H 6250 1650 300 0000 C CNN
	1    6250 1650
	1    0    0    -1  
$EndComp
$Comp
L C 100nF3
U 1 1 6081B5EC
P 6650 1650
F 0 "100nF3" H 6650 1750 40  0000 L CNN
F 1 "C" H 6656 1565 40  0000 L CNN
F 2 "Capacitors_SMD:C_0805_HandSoldering" H 6688 1500 30  0001 C CNN
F 3 "" H 6650 1650 60  0000 C CNN
	1    6650 1650
	1    0    0    -1  
$EndComp
Text GLabel 7750 1350 2    60   Input ~ 0
12vPower
$Comp
L GND #PWR01
U 1 1 6081B682
P 6450 2000
F 0 "#PWR01" H 6450 2000 30  0001 C CNN
F 1 "GND" H 6450 1930 30  0001 C CNN
F 2 "" H 6450 2000 60  0001 C CNN
F 3 "" H 6450 2000 60  0001 C CNN
	1    6450 2000
	1    0    0    -1  
$EndComp
Text GLabel 9050 2500 0    60   Input ~ 0
12vPower
$Comp
L DIODE D3
U 1 1 60826013
P 6950 3200
F 0 "D3" H 6950 3300 40  0000 C CNN
F 1 "1N5819" H 6950 3100 40  0000 C CNN
F 2 "Resistors_ThroughHole:Resistor_Horizontal_RM7mm" H 6950 3200 60  0001 C CNN
F 3 "" H 6950 3200 60  0000 C CNN
	1    6950 3200
	0    -1   -1   0   
$EndComp
$Comp
L DIODE D6
U 1 1 608260E3
P 7250 3200
F 0 "D6" H 7250 3300 40  0000 C CNN
F 1 "1N5819" H 7250 3100 40  0000 C CNN
F 2 "Resistors_ThroughHole:Resistor_Horizontal_RM7mm" H 7250 3200 60  0001 C CNN
F 3 "" H 7250 3200 60  0000 C CNN
	1    7250 3200
	0    -1   -1   0   
$EndComp
$Comp
L DIODE D2
U 1 1 60826112
P 6950 2000
F 0 "D2" H 6950 2100 40  0000 C CNN
F 1 "1N5819" H 6950 1900 40  0000 C CNN
F 2 "Resistors_ThroughHole:Resistor_Horizontal_RM7mm" H 6950 2000 60  0001 C CNN
F 3 "" H 6950 2000 60  0000 C CNN
	1    6950 2000
	0    -1   -1   0   
$EndComp
$Comp
L DIODE D5
U 1 1 6082614C
P 7250 2000
F 0 "D5" H 7250 2100 40  0000 C CNN
F 1 "1N5819" H 7250 1900 40  0000 C CNN
F 2 "Resistors_ThroughHole:Resistor_Horizontal_RM7mm" H 7250 2000 60  0001 C CNN
F 3 "" H 7250 2000 60  0000 C CNN
	1    7250 2000
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR02
U 1 1 60826327
P 7100 3850
F 0 "#PWR02" H 7100 3850 30  0001 C CNN
F 1 "GND" H 7100 3780 30  0001 C CNN
F 2 "" H 7100 3850 60  0001 C CNN
F 3 "" H 7100 3850 60  0001 C CNN
	1    7100 3850
	1    0    0    -1  
$EndComp
$Comp
L DIODE D4
U 1 1 60826392
P 7000 1350
F 0 "D4" H 7000 1450 40  0000 C CNN
F 1 "1N5819" H 7000 1250 40  0000 C CNN
F 2 "Resistors_ThroughHole:Resistor_Horizontal_RM7mm" H 7000 1350 60  0001 C CNN
F 3 "" H 7000 1350 60  0000 C CNN
	1    7000 1350
	-1   0    0    1   
$EndComp
Text Notes 5800 5500 0    60   ~ 0
Peak Drive current IRF540N = Q/dT = 95/39 = 2.4A \nRFP50N06 = 125/55 = 2.27A\nDriver Power\nIRF540N = 1400E-12*12*12*250E3 = 50mW\nRFP50N06 = 2200E-12*12*12*250E3 = 80mW\n\nMCP14E3 can deliver 4.5A at 18V and will drive at about 15ns for 1400pF@12V gate.\nIt will disipate 1.1W\n\nhttp://ww1.microchip.com/downloads/en/Appnotes/00799b.pdf\n\n\n\n
Text GLabel 4850 6200 2    60   Output ~ 0
12vPower
$Comp
L INDUCTOR FerriteBead3
U 1 1 60826BAF
P 3800 5900
F 0 "FerriteBead3" V 3750 5900 40  0000 C CNN
F 1 "INDUCTOR" V 3900 5900 40  0000 C CNN
F 2 "Resistors_ThroughHole:Resistor_Horizontal_RM7mm" H 3800 5900 60  0001 C CNN
F 3 "" H 3800 5900 60  0000 C CNN
	1    3800 5900
	0    1    1    0   
$EndComp
$Comp
L CAPAPOL 4700uF1
U 1 1 60827661
P 3750 6600
F 0 "4700uF1" H 3800 6700 40  0000 L CNN
F 1 "CAPAPOL" H 3800 6500 40  0000 L CNN
F 2 "Capacitors_ThroughHole:C_Radial_D22_L41_P10" H 3850 6450 30  0001 C CNN
F 3 "" H 3750 6600 300 0000 C CNN
	1    3750 6600
	1    0    0    -1  
$EndComp
$Comp
L C 470nF1
U 1 1 608276BA
P 4550 6600
F 0 "470nF1" H 4550 6700 40  0000 L CNN
F 1 "C" H 4556 6515 40  0000 L CNN
F 2 "Capacitors_SMD:C_0805_HandSoldering" H 4588 6450 30  0001 C CNN
F 3 "" H 4550 6600 60  0000 C CNN
	1    4550 6600
	1    0    0    -1  
$EndComp
$Comp
L CAPAPOL 10uF1
U 1 1 6082773F
P 4200 6600
F 0 "10uF1" H 4250 6700 40  0000 L CNN
F 1 "CAPAPOL" H 4250 6500 40  0000 L CNN
F 2 "Capacitors_SMD:C_1210_HandSoldering" H 4300 6450 30  0001 C CNN
F 3 "" H 4200 6600 300 0000 C CNN
	1    4200 6600
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR03
U 1 1 60827B35
P 4200 7250
F 0 "#PWR03" H 4200 7250 30  0001 C CNN
F 1 "GND" H 4200 7180 30  0001 C CNN
F 2 "" H 4200 7250 60  0001 C CNN
F 3 "" H 4200 7250 60  0001 C CNN
	1    4200 7250
	1    0    0    -1  
$EndComp
Text GLabel 4350 5900 2    60   Output ~ 0
12v
$Comp
L DIODE D1
U 1 1 6082862A
P 2000 6200
F 0 "D1" H 2000 6300 40  0000 C CNN
F 1 "1N5819" H 2000 6100 40  0000 C CNN
F 2 "Resistors_ThroughHole:Resistor_Horizontal_RM7mm" H 2000 6200 60  0001 C CNN
F 3 "" H 2000 6200 60  0000 C CNN
	1    2000 6200
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR04
U 1 1 60828980
P 2100 6650
F 0 "#PWR04" H 2100 6650 30  0001 C CNN
F 1 "GND" H 2100 6580 30  0001 C CNN
F 2 "" H 2100 6650 60  0001 C CNN
F 3 "" H 2100 6650 60  0001 C CNN
	1    2100 6650
	1    0    0    -1  
$EndComp
$Comp
L C 100nF2
U 1 1 60828DD8
P 4850 1350
F 0 "100nF2" H 4850 1450 40  0000 L CNN
F 1 "C" H 4856 1265 40  0000 L CNN
F 2 "Capacitors_SMD:C_0805_HandSoldering" H 4888 1200 30  0001 C CNN
F 3 "" H 4850 1350 60  0000 C CNN
	1    4850 1350
	1    0    0    -1  
$EndComp
$Comp
L FUSE F1
U 1 1 6082914C
P 1400 6200
F 0 "F1" H 1500 6250 40  0000 C CNN
F 1 "FUSE" H 1300 6150 40  0000 C CNN
F 2 "Fuse_Holders_and_Fuses:BladeFuse-CarType" H 1400 6200 60  0001 C CNN
F 3 "" H 1400 6200 60  0000 C CNN
	1    1400 6200
	1    0    0    -1  
$EndComp
Text GLabel 4150 2150 2    60   Input ~ 0
12v
$Comp
L GND #PWR05
U 1 1 608295F1
P 4250 2350
F 0 "#PWR05" H 4250 2350 30  0001 C CNN
F 1 "GND" H 4250 2280 30  0001 C CNN
F 2 "" H 4250 2350 60  0001 C CNN
F 3 "" H 4250 2350 60  0001 C CNN
	1    4250 2350
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR06
U 1 1 608297DC
P 4650 1700
F 0 "#PWR06" H 4650 1700 30  0001 C CNN
F 1 "GND" H 4650 1630 30  0001 C CNN
F 2 "" H 4650 1700 60  0001 C CNN
F 3 "" H 4650 1700 60  0001 C CNN
	1    4650 1700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR07
U 1 1 60829891
P 3150 3850
F 0 "#PWR07" H 3150 3850 30  0001 C CNN
F 1 "GND" H 3150 3780 30  0001 C CNN
F 2 "" H 3150 3850 60  0001 C CNN
F 3 "" H 3150 3850 60  0001 C CNN
	1    3150 3850
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR08
U 1 1 608298DB
P 1750 2500
F 0 "#PWR08" H 1750 2500 30  0001 C CNN
F 1 "GND" H 1750 2430 30  0001 C CNN
F 2 "" H 1750 2500 60  0001 C CNN
F 3 "" H 1750 2500 60  0001 C CNN
	1    1750 2500
	1    0    0    -1  
$EndComp
$Comp
L R 100K1
U 1 1 60829B76
P 1900 4400
F 0 "100K1" V 1980 4400 40  0000 C CNN
F 1 "R" V 1907 4401 40  0000 C CNN
F 2 "Resistors_SMD:R_0805_HandSoldering" V 1830 4400 30  0001 C CNN
F 3 "" H 1900 4400 30  0000 C CNN
	1    1900 4400
	1    0    0    -1  
$EndComp
$Comp
L R 22K1
U 1 1 60829BF5
P 1900 5100
F 0 "22K1" V 1980 5100 40  0000 C CNN
F 1 "R" V 1907 5101 40  0000 C CNN
F 2 "Resistors_SMD:R_0805_HandSoldering" V 1830 5100 30  0001 C CNN
F 3 "" H 1900 5100 30  0000 C CNN
	1    1900 5100
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR09
U 1 1 60829C58
P 1900 5550
F 0 "#PWR09" H 1900 5550 30  0001 C CNN
F 1 "GND" H 1900 5480 30  0001 C CNN
F 2 "" H 1900 5550 60  0001 C CNN
F 3 "" H 1900 5550 60  0001 C CNN
	1    1900 5550
	1    0    0    -1  
$EndComp
Text GLabel 1250 4100 0    60   Input ~ 0
12v
$Comp
L C 100nF1
U 1 1 60829D1D
P 1650 5100
F 0 "100nF1" H 1650 5200 40  0000 L CNN
F 1 "C" H 1656 5015 40  0000 L CNN
F 2 "Capacitors_SMD:C_0805_HandSoldering" H 1688 4950 30  0001 C CNN
F 3 "" H 1650 5100 60  0000 C CNN
	1    1650 5100
	1    0    0    -1  
$EndComp
Text GLabel 2250 4750 2    60   Output ~ 0
ADC1
Text GLabel 4200 2850 2    60   Input ~ 0
ADC1
NoConn ~ 3950 2350
NoConn ~ 3950 2450
NoConn ~ 3950 2550
NoConn ~ 3950 2650
NoConn ~ 3950 2750
NoConn ~ 3950 2950
NoConn ~ 3950 3050
NoConn ~ 3950 3150
NoConn ~ 3950 3350
NoConn ~ 3950 3450
NoConn ~ 2450 3450
NoConn ~ 2450 3350
NoConn ~ 2450 3150
NoConn ~ 2450 3050
NoConn ~ 2450 2950
NoConn ~ 2450 2750
NoConn ~ 2450 2250
NoConn ~ 3250 2600
NoConn ~ 2450 2650
NoConn ~ 2450 2850
NoConn ~ 2450 2150
NoConn ~ 2450 2350
NoConn ~ 3000 1750
NoConn ~ 3100 1750
NoConn ~ 3200 1750
NoConn ~ 3300 1750
NoConn ~ 3400 1750
NoConn ~ 3500 1750
Text Notes 7250 6750 0    60   ~ 0
Ultrasound Driver
$Comp
L CONN_2 P1
U 1 1 6082AEB0
P 10600 2500
F 0 "P1" V 10550 2500 40  0000 C CNN
F 1 "CONN_2" V 10650 2500 40  0000 C CNN
F 2 "Connect:AK300-2" H 10600 2500 60  0001 C CNN
F 3 "" H 10600 2500 60  0001 C CNN
	1    10600 2500
	1    0    0    -1  
$EndComp
Text Notes 6350 1100 0    60   ~ 0
To dedicate capacitors to Mosfet driver
$Comp
L CAPAPOL 1uF1
U 1 1 6082B568
P 4450 1350
F 0 "1uF1" H 4500 1450 40  0000 L CNN
F 1 "CAPAPOL" H 4500 1250 40  0000 L CNN
F 2 "Capacitors_SMD:C_1210_HandSoldering" H 4550 1200 30  0001 C CNN
F 3 "" H 4450 1350 300 0000 C CNN
	1    4450 1350
	1    0    0    -1  
$EndComp
Text Notes 4850 6450 0    60   ~ 0
Protect 12v input from freqhencies generated by driver
Text Notes 7300 3450 0    60   ~ 0
Latchup protection
Text Notes 7350 3900 0    60   ~ 0
Must be low impedance GND (latchup, parasitic npn)
$Comp
L CONN_2 P2
U 1 1 6082CEFB
P 650 6300
F 0 "P2" V 600 6300 40  0000 C CNN
F 1 "CONN_2" V 700 6300 40  0000 C CNN
F 2 "Connect:AK300-2" H 650 6300 60  0001 C CNN
F 3 "" H 650 6300 60  0001 C CNN
	1    650  6300
	-1   0    0    1   
$EndComp
$Comp
L ETD29 T1
U 1 1 6082D7AE
P 9650 2500
F 0 "T1" H 9650 2750 70  0000 C CNN
F 1 "ETD29" H 9650 2200 70  0000 C CNN
F 2 "Transformers_SMPS_ThroughHole:ETD29_13Pin_Horizontal_EPCOS-B66359A1013T" H 9650 2500 60  0001 C CNN
F 3 "" H 9650 2500 60  0000 C CNN
	1    9650 2500
	1    0    0    -1  
$EndComp
Wire Wire Line
	5850 1350 6800 1350
Wire Wire Line
	5850 1350 5850 1900
Wire Wire Line
	6250 1450 6250 1350
Connection ~ 6250 1350
Wire Wire Line
	6650 1350 6650 1450
Connection ~ 6650 1350
Wire Wire Line
	6250 1850 6250 1900
Wire Wire Line
	6250 1900 6650 1900
Wire Wire Line
	6650 1900 6650 1850
Wire Wire Line
	6450 2000 6450 1900
Connection ~ 6450 1900
Wire Wire Line
	7050 2350 7450 2350
Wire Wire Line
	7450 2350 7450 2300
Wire Wire Line
	7450 2300 8050 2300
Wire Wire Line
	6900 2500 7450 2500
Wire Wire Line
	7450 2500 7450 3050
Wire Wire Line
	7450 3050 8050 3050
Wire Wire Line
	8350 2450 8350 2550
Wire Wire Line
	8350 2550 8700 2550
Wire Wire Line
	8700 2550 8700 3300
Wire Wire Line
	8700 3300 8350 3300
Wire Wire Line
	8350 3300 8350 3200
Wire Wire Line
	8350 2800 8350 2700
Wire Wire Line
	8350 2700 9250 2700
Wire Wire Line
	8350 2050 8350 1950
Wire Wire Line
	8350 1950 8900 1950
Wire Wire Line
	8900 1950 8900 2300
Wire Wire Line
	8900 2300 9250 2300
Wire Wire Line
	9050 2500 9250 2500
Connection ~ 8500 3300
Wire Wire Line
	4900 2350 5100 2350
Wire Wire Line
	4900 2500 5100 2500
Wire Wire Line
	4900 3100 5000 3100
Wire Wire Line
	5000 3000 5000 3150
Wire Wire Line
	5000 3000 5100 3000
Wire Wire Line
	5000 3150 5100 3150
Connection ~ 5000 3100
Wire Wire Line
	6950 2200 6950 3000
Connection ~ 6950 2500
Wire Wire Line
	7250 2200 7250 3000
Connection ~ 7250 2350
Wire Wire Line
	6950 1800 6950 1650
Wire Wire Line
	6950 1650 7250 1650
Wire Wire Line
	7250 1350 7250 1800
Wire Wire Line
	6950 3400 6950 3600
Wire Wire Line
	6950 3600 7250 3600
Wire Wire Line
	7250 3600 7250 3400
Connection ~ 7100 3600
Wire Wire Line
	7200 1350 7750 1350
Connection ~ 7250 1350
Connection ~ 7250 1650
Wire Wire Line
	2200 6200 4850 6200
Wire Wire Line
	3750 6400 3750 6200
Connection ~ 3750 6200
Wire Wire Line
	4200 6400 4200 6200
Connection ~ 4200 6200
Wire Wire Line
	4550 6400 4550 6200
Connection ~ 4550 6200
Wire Wire Line
	4550 7050 4550 6800
Wire Wire Line
	3750 7050 4550 7050
Wire Wire Line
	3750 7050 3750 6800
Wire Wire Line
	4200 6800 4200 7250
Connection ~ 4200 7050
Wire Wire Line
	3500 5900 2550 5900
Wire Wire Line
	2550 5900 2550 6200
Connection ~ 2550 6200
Wire Wire Line
	4100 5900 4350 5900
Wire Wire Line
	1000 6400 2100 6400
Wire Wire Line
	2100 6400 2100 6650
Wire Wire Line
	1800 6200 1650 6200
Wire Wire Line
	1150 6200 1000 6200
Wire Wire Line
	3950 2150 4150 2150
Wire Wire Line
	4250 2350 4250 2250
Wire Wire Line
	4250 2250 3950 2250
Wire Wire Line
	4050 1050 4050 2150
Connection ~ 4050 2150
Wire Wire Line
	2450 2450 1750 2450
Wire Wire Line
	1750 2450 1750 2500
Wire Wire Line
	2450 2550 2300 2550
Wire Wire Line
	2450 3250 2250 3250
Wire Wire Line
	3950 3250 4200 3250
Wire Wire Line
	3150 3850 3150 3750
Wire Wire Line
	1250 4100 1900 4100
Wire Wire Line
	1900 4100 1900 4150
Wire Wire Line
	1900 4650 1900 4850
Wire Wire Line
	1650 4900 1650 4750
Wire Wire Line
	1650 4750 2250 4750
Connection ~ 1900 4750
Wire Wire Line
	1650 5300 1650 5450
Wire Wire Line
	1650 5450 1900 5450
Wire Wire Line
	1900 5350 1900 5550
Connection ~ 1900 5450
Wire Wire Line
	4200 2850 3950 2850
Wire Wire Line
	10250 2600 10100 2600
Wire Wire Line
	10100 2600 10100 2700
Wire Wire Line
	10100 2700 10050 2700
Wire Wire Line
	10050 2300 10100 2300
Wire Wire Line
	10100 2300 10100 2400
Wire Wire Line
	10100 2400 10250 2400
Wire Wire Line
	4050 1050 4850 1050
Wire Wire Line
	4850 1050 4850 1150
Wire Wire Line
	4450 1050 4450 1150
Connection ~ 4450 1050
Wire Wire Line
	4450 1550 4450 1600
Wire Wire Line
	4450 1600 4850 1600
Wire Wire Line
	4850 1600 4850 1550
Wire Wire Line
	4650 1700 4650 1600
Connection ~ 4650 1600
Wire Wire Line
	8500 3750 8500 3300
Wire Wire Line
	5900 3750 8500 3750
Wire Wire Line
	7100 3600 7100 3850
Connection ~ 7100 3750
Wire Wire Line
	5900 3450 5900 3750
Wire Wire Line
	6900 2500 6900 2350
Wire Wire Line
	6900 2350 6650 2350
Wire Wire Line
	7050 2350 7050 2450
Wire Wire Line
	7050 2450 6800 2450
Wire Wire Line
	6800 2450 6800 2500
Wire Wire Line
	6800 2500 6650 2500
$EndSCHEMATC
